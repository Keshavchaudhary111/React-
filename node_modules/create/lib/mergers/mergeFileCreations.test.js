import { describe, expect, test } from "vitest";
import { mergeFileCreations } from "./mergeFileCreations.js";
const path = ["test"];
describe("mergeFileCreations", () => {
    test.each([
        [undefined, undefined, undefined],
        [{}, undefined, {}],
        [undefined, {}, {}],
        [{}, {}, {}],
        [{ a: "" }, { a: "" }, { a: "" }],
        [{ a: "" }, { b: "" }, { a: "", b: "" }],
        [{ a: "1" }, { a: "2" }, "Conflicting created files at path: 'test/a'."],
        [{ a: "1" }, { a: ["2"] }, "Conflicting created files at path: 'test/a'."],
        [{ a: ["1"] }, { a: "2" }, "Conflicting created files at path: 'test/a'."],
        [
            { a: ["1"] },
            { a: ["2"] },
            "Conflicting created files at path: 'test/a'.",
        ],
        [{ a: {} }, { a: {} }, { a: {} }],
        [{ a: {} }, { a: { b: "" } }, { a: { b: "" } }],
        [{ a: { b: "" } }, { a: {} }, { a: { b: "" } }],
        [{ a: { b: "" } }, { a: { b: "" } }, { a: { b: "" } }],
        [
            { a: "" },
            { a: {} },
            "Conflicting created directory and file at path: 'test/a'.",
        ],
        [
            { a: {} },
            { a: "" },
            "Conflicting created directory and file at path: 'test/a'.",
        ],
    ])("%j with %j", (first, second, expected) => {
        if (typeof expected === "string") {
            expect(() => mergeFileCreations(first, second, path)).toThrow(expected);
        }
        else {
            expect(mergeFileCreations(first, second, path)).toEqual(expected);
        }
    });
});
//# sourceMappingURL=mergeFileCreations.test.js.map